{% extends 'base.html' %}
{% block title %} Make Purchase - Senthur Traders{% endblock %}
{% block head %}
{% endblock %}
{% block body %}
<div class="container mt-5">
  <h1 class="mb-4">Make Purchase</h1>
  <form method="POST" name="default">
    <div class="row">
      <div class="col-md-6">
        <div class="mb-3">
          <label for="product" class="form-label">Product Name</label>
          {% if page < 2 %}
            <select class="form-select" id="product" name="product">
              {% for product in products %}
                <option value="{{ product[1] }}">{{ product[1] }}</option>
              {% endfor %}
            </select>
          {% else %}
            <select class="form-select" id="product" name="product" disabled>
              <option value="{{ selected_product }}">{{ selected_product }}</option>
            </select>
          {% endif %}
        </div>
        <div class="mb-3">
          <label for="supplier" class="form-label">Supplier</label>
          {% if page != 2 or page != 3 %}
            <select class="form-select" id="supplier" name="supplier">
              {% for supplier in suppliers %}
              <option value="{{ supplier[0] }}">{{ supplier[0] }}</option>
              {% endfor %}
            </select>
          {% else %}
            <select class="form-select" id="supplier" name="supplier" disabled>
              <option value="{{ selected_supplier }}">{{ selected_supplier }}</option>
              </select>
            {% endif %}
        </div>
        <button type="button" class="btn btn-primary">Next</button>
      </form>
      </div>
      {% if page >= 2 %}
      <form method="POST" name="second">
      <div class="col-md-6" id="details">
        <div class="mb-3">
          <label for="bag" class="form-label">Bag (kg)</label>
          <select class="form-select" id="bag" name="bag" disabled>
            {% for product in products %}
            <option value="{{ bag[0] }}">{{ bag[0] }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="mb-3">
          <label for="quantity" class="form-label">Quantity</label>
          {% page==2 %}
          <input type="number" class="form-control" id="quantity" name="quantity">
          {% else %}
          <input type="number" class="form-control" id="quantity" name="quantity" value="{{quantity}}" disabled>
          {% endif %}
        </div>
        <button type="submit" class="btn btn-primary">Make Purchase</button>
      </div>
    </div>
  </form>
  {% endif %}
  {% if page == 3 %}
  <div id="purchase-info">
    <h3>Purchase Done</h3>
    <p>Amount: Rs. <span id="amount"></span></p>
  </div>
  {% endif %}
</div>

{% endblock %}