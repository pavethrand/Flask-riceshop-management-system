{% extends 'base.html' %}

{% block title %}Billing - Senthur Traders {% endblock %}

{% block head %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" integrity="sha384-6IQFw6wHnK1sF6h9oZQsFO4nprKsgnWUfT7U6+eU6cYvSYnjW3z8KjGg0soJNJTn" crossorigin="anonymous">
  <style>
    .table td, .table th {
  text-align: center;
}

.table thead th {
  background-color: #6c757d;
  color: #fff;
}

.table tbody tr:nth-child(even) {
  background-color: #f8f9fa;
}

.table tbody tr:hover {
  background-color: #e2e6ea;
}

.btn-generate-bill, .btn-cancel-order {
  color: #fff;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  transition: all 0.3s ease;
}

.btn-generate-bill {
  background-color: #0d6efd;
}

.btn-generate-bill:hover {
  background-color: #0b5ed7;
}

.btn-cancel-order {
  background-color: #dc3545;
}

.btn-cancel-order:hover {
  background-color: #c82333;
}

.animated {
  animation-duration: 1s;
  animation-fill-mode: both;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 100%, 0);
  }

  to {
    opacity: 1;
    transform: none;
  }
}

.fadeInUp {
  animation-name: fadeInUp;
}

  </style>
{% endblock %}

{% block body %}
<div class="container my-5">
  <h1 class="mb-4">Order Details</h1>
  <div class="row justify-content-end mb-4">
    <div class="col-auto">
        <a href="/edashboard/" class="btn btn-primary">Back</a>
    </div>
</div>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Username</th>
        <th>Product ID</th>
        <th>Quantity</th>
        <th>Rate</th>
        <th>Date</th>
        <th>Status</th>
        <th>Options</th>
      </tr>
    </thead>
    <tbody>
      {% for order in orders %}
      <tr>
        <td>{{ order[0] }}</td>
        <td>{{ order[1] }}</td>
        <td>{{ order[2] }}</td>
        <td>{{ order[3] }}</td>
        <td>{{ order[4] }}</td>
        <td>{{ order[5] }}</td>
        <td>{{ order[6] }}</td>
        <td>
          <a href="/download_pdf/" class="btn btn-primary btn-sm">Generate Bill</a>
          <a href="/ecancelorder/{{order[0]}}/{{order[1]}}" class="btn btn-danger btn-sm">Cancel Order</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script>
  const generateBillButtons = document.querySelectorAll('.btn-generate-bill');
const cancelOrderButtons = document.querySelectorAll('.btn-cancel-order');

generateBillButtons.forEach(button => {
  button.addEventListener('click', () => {
    // Code to generate bill
    button.classList.add('animated', 'fadeInUp');
  });
});

cancelOrderButtons.forEach(button => {
  button.addEventListener('click', () => {
    // Code to cancel order
    button.classList.add('animated', 'fadeInUp');
  });
});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-V48SYwk0IyOxNtq0cLhNxnN+bkZ0XyhF0Dl/8JGyEm+HXQVxMDNVks1dR/aYskBh" crossorigin="anonymous"></script>
{% endblock %}
